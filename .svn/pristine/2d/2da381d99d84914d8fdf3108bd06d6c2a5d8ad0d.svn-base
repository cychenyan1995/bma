{"version":3,"sources":["src/pages/salesHistory/models/index.js"],"names":["_history","__webpack_require__","namespace","state","showDetail","spCode","lineData","barData1","barData2","xAxisData","effects","fetchChart","_regenerator","default","mark","_callee","_ref","_ref2","payload","call","put","response","wrap","_context","prev","next","queryChartList","sent","type","stop","this","fetchChange","_callee2","_ref3","_ref4","_context2","queryChartListByType","reducers","action","_objectSpread2","selectChange","getChart","data","sumRateList","sumSaleList","sumTaskList","monthList","getChange","rateList","saleList","taskList"],"mappings":"qNAAAA,EAAAC,EAAA,WAGEC,UAAW,UAEXC,OACEC,YAAY,EACZC,OAAQ,GACRC,YACAC,YACAC,YACAC,cAEFC,SACIC,WADKC,EAAAC,QAAAC,KAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAT,EAAAC,QAAAS,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEY,OADLP,EADPF,EACOE,QAAWC,EADlBF,EACkBE,KAAMC,EADxBH,EACwBG,IADxBG,EAAAE,KAAA,EAEkBN,EAAKO,iBAAgBR,GAFvC,OAGL,OADMG,EAFDE,EAAAI,KAAAJ,EAAAE,KAAA,EAGCL,GACJQ,KAAM,WACNV,QAASG,IALN,wBAAAE,EAAAM,SAAAd,EAAAe,QAQLC,YARKnB,EAAAC,QAAAC,KAAA,SAAAkB,EAAAC,EAAAC,GAAA,IAAAhB,EAAAC,EAAAC,EAAAC,EAAA,OAAAT,EAAAC,QAAAS,KAAA,SAAAa,GAAA,eAAAA,EAAAX,KAAAW,EAAAV,MAAA,OASY,OADJP,EARRe,EAQQf,QAAWC,EARnBe,EAQmBf,KAAMC,EARzBc,EAQyBd,IARzBe,EAAAV,KAAA,EASkBN,EAAKiB,uBAAsBlB,GAT7C,OAUL,OADMG,EATDc,EAAAR,KAAAQ,EAAAV,KAAA,EAUCL,GACJQ,KAAM,YACNV,QAASG,IAZN,wBAAAc,EAAAN,SAAAG,EAAAF,SAgBTO,UACEjC,WAAWD,EAAOmC,GAChB,SAAAC,EAAA1B,YACKV,GACHC,WAAYkC,EAAOpB,QAAQd,WAC3BC,OAAQiC,EAAOpB,QAAQb,UAI3BmC,aAAarC,EAAOmC,GAClB,SAAAC,EAAA1B,YACKV,GACHG,UAAW,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,IAC7CC,UAAW,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAC/CC,UAAW,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,SAG3DiC,SAAStC,EAAMmC,GACb,SAAAC,EAAA1B,YACKV,GACHG,SAAUgC,EAAOpB,QAAQwB,KAAKC,YAC9BpC,SAAU+B,EAAOpB,QAAQwB,KAAKE,YAC9BpC,SAAU8B,EAAOpB,QAAQwB,KAAKG,YAC9BpC,UAAU6B,EAAOpB,QAAQwB,KAAKI,aAGlCC,UAAU5C,EAAMmC,GACd,SAAAC,EAAA1B,YACKV,GACHG,SAAUgC,EAAOpB,QAAQwB,KAAKM,SAC9BzC,SAAU+B,EAAOpB,QAAQwB,KAAKO,SAC9BzC,SAAU8B,EAAOpB,QAAQwB,KAAKQ,SAC9BzC,UAAU6B,EAAOpB,QAAQwB,KAAKI","file":"7.async.js","sourcesContent":["import {queryChartList, queryChartListByType} from '@/services/history';\n\nexport default {\n  namespace: 'history',\n\n  state: {\n    showDetail: false,\n    spCode: '',\n    lineData: [],\n    barData1: [],\n    barData2: [],\n    xAxisData: []\n  },\n  effects: {\n    * fetchChart({payload}, {call, put}) {\n      const response = yield call(queryChartList, payload);\n      yield put({\n        type: 'getChart',\n        payload: response,\n      });\n    },\n    * fetchChange({payload}, {call, put}) {\n      const response = yield call(queryChartListByType, payload);\n      yield put({\n        type: 'getChange',\n        payload: response,\n      });\n    },\n  },\n  reducers: {\n    showDetail(state, action) {\n      return {\n        ...state,\n        showDetail: action.payload.showDetail,\n        spCode: action.payload.spCode\n      };\n    },\n\n    selectChange(state, action) {\n      return {\n        ...state,\n        lineData: [1, 13, 33, 35, 15, 55, 25, 21, 6, 45],\n        barData1: [22, 22, 23, 88, 24, 55, 55, 89, 98, 164],\n        barData2: [201, 222, 223, 777, 99, 255, 555, 879, 938, 1364],\n      }\n    },\n    getChart(state,action){\n      return{\n        ...state,\n        lineData: action.payload.data.sumRateList,\n        barData1: action.payload.data.sumSaleList,\n        barData2: action.payload.data.sumTaskList,\n        xAxisData:action.payload.data.monthList,\n      }\n    },\n    getChange(state,action){\n      return{\n        ...state,\n        lineData: action.payload.data.rateList,\n        barData1: action.payload.data.saleList,\n        barData2: action.payload.data.taskList,\n        xAxisData:action.payload.data.monthList,\n      }\n    }\n  },\n};\n"],"sourceRoot":""}