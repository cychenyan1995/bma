(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"7D0q":function(e,t,a){"use strict";var s=a("3rQ3"),i=a("xK3H");Object.defineProperty(t,"__esModule",{value:!0}),t.EditableFormRow=t.EditableRow=t.EditableContext=t.default=void 0,a("/MhY");var l=i(a("w0+5"));a("cFNL");var d=i(a("gOg5"));a("Q3sr");var r=i(a("9NP+")),n=i(a("+S5U")),o=s(a("6cB7")),u=o.default.createContext();t.EditableContext=u;var h=e=>{var t=e.form,a=(e.index,(0,n.default)(e,["form","index"]));return o.default.createElement(u.Provider,{value:t},o.default.createElement("tr",a))};t.EditableRow=h;var p=r.default.create()(h);t.EditableFormRow=p;var c=r.default.Item;class f extends o.Component{constructor(){super(...arguments),this.getInput=(()=>{return"number"===this.props.inputType?o.default.createElement(d.default,null):o.default.createElement(l.default,null)})}render(){var e=this.props,t=e.editing,a=e.dataIndex,s=(e.title,e.inputType,e.record),i=(e.index,(0,n.default)(e,["editing","dataIndex","title","inputType","record","index"]));return o.default.createElement(u.Consumer,null,e=>{var l=e.getFieldDecorator;return o.default.createElement("td",i,t?o.default.createElement(c,{style:{margin:0}},l(a,{rules:[{required:!0}],initialValue:s[a]})(this.getInput())):i.children)})}}var m=f;t.default=m},EJb5:function(e,t,a){"use strict";var s=a("xK3H"),i=a("3rQ3");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fhlT");var l=s(a("kXZy"));a("/26P");var d=s(a("aYvq"));a("mKhK");var r=s(a("iW5v"));a("XFd2");var n=s(a("33fr"));a("Lzml");var o=s(a("vpm+")),u=s(a("SeLb"));a("TzAX");var h=s(a("Wkxt"));a("Q3sr");var p,c,f=s(a("9NP+")),m=s(a("zHco")),v=i(a("6cB7")),g=s(a("Leqq")),b=a("LneV"),k=s(a("b80h")),S=i(a("7D0q")),y=(a("DWJA"),s(a("WOKu"))),E=s(a("49ZS")),x=(f.default.Item,p=(0,b.connect)(e=>{var t=e.salesTask;return{salesTask:t}}),p(c=class extends v.Component{constructor(e){super(e),this.toSendInfo=((e,t)=>{var a="";switch(t){case"leader":a=e.regionalManagerLeader;break;case"manager":a=e.regionalManager;break}this.setState({TableVisible:!0,type:t,name:a})}),this.importTask=(()=>{var e=this.state.columns;14===e.length&&(e.push(this.state.operationCol),this.setState({columns:e,sendMessageBtn:!1})),this.setState({importVisible:!0})}),this.sendMessage=(()=>{var e=this.state.columns;e.pop(),this.setState({columns:e,sendMessageBtn:!0});var t=this.props.dispatch;t({type:"salesTask/fetchSendMessage",payload:{}})}),this.onChange=((e,t)=>{var a=this.props,s=a.dispatch;a.salesTask;s({type:"salesTask/fetchTaskList",payload:{currentPage:e,pageSize:t}}),this.setState({page:e,pageSize:t})}),this.onShowSizeChange=((e,t)=>{var a=this.props,s=a.dispatch;a.salesTask;s({type:"salesTask/fetchTaskList",payload:{currentPage:e,pageSize:t}}),this.setState({page:e,pageSize:t})}),this.isEditing=(e=>{return e.id===this.state.editingKey}),this.cancel=(()=>{this.setState({editingKey:""})}),this.toSpDetail=(e=>{this.setState({detailSpVisible:!0,spCode:e})}),this.hideModal=(()=>{this.setState({importVisible:!1})}),this.hideTableModal=(()=>{this.setState({TableVisible:!1})}),this.submitModal=(()=>{this.formRef.props.form.validateFieldsAndScroll((e,t)=>{if(!e){console.log("Received values of form: ",t);var a=this.props.dispatch;a({type:"salesTask/fetchImport",payload:t}),this.setState({importVisible:!1})}})}),this.detailGoBack=(()=>{this.setState({detailSpVisible:!1})});var t=[{title:"\u5546\u6237ID",width:150,dataIndex:"spCode"},{title:"\u5546\u6237\u540d\u79f0",width:300,dataIndex:"spName",render:(e,t)=>{return v.default.createElement("span",null,v.default.createElement("a",{href:"javascript:;",onClick:()=>this.toSpDetail(t.spCode)},e))}},{title:"\u533a\u57df",width:150,dataIndex:"area"},{title:"\u5927\u533a\u7ecf\u7406",width:150,dataIndex:"regionalManagerLeader"},{title:"\u533a\u57df\u7ecf\u7406",width:150,dataIndex:"regionalManager"},{title:"\u4e1a\u52a1\u7c7b\u578b",width:150,dataIndex:"bizType"},{title:"\u4efb\u52a1\u671f\u6570",width:150,dataIndex:"month"},{title:"\u5e7f\u8054DVD\u4efb\u52a1\u6570",width:150,dataIndex:"tasknumDvd",editable:!0},{title:"\u5e7f\u8054GPS\u4efb\u52a1\u6570",width:150,dataIndex:"tasknumGps",editable:!0},{title:"\u5600\u5600\u864e\u667a\u80fd\u4e91\u955c\u4efb\u52a1\u6570",width:150,dataIndex:"tasknumYunjing",editable:!0},{title:"\u5600\u5600\u864e\u8f66\u8054\u7f51\u670d\u52a1\u6fc0\u6d3b\u5361-1\u5e74\u7248\u4efb\u52a1\u6570",width:150,dataIndex:"tasknumDidihuService",editable:!0},{title:"\u65e0\u7ebf\u8f66\u5145\u4efb\u52a1\u6570",width:150,dataIndex:"tasknumWirelessCharge",editable:!0},{title:"\u7eaf\u6d41\u5a92\u4f53\u540e\u89c6\u955c\u4efb\u52a1\u6570",width:150,dataIndex:"tasknumRearview",editable:!0},{title:"\u5168\u529f\u80fd_\u6d41\u5a92\u4f53\u540e\u89c6\u955c\u4efb\u52a1\u6570",width:150,dataIndex:"tasknumFunctionRearview",editable:!0}],a={title:"\u64cd\u4f5c",width:150,dataIndex:"operation",render:(e,t)=>{var a=this.isEditing(t);return v.default.createElement("div",null,a?v.default.createElement("span",null,v.default.createElement(S.EditableContext.Consumer,null,e=>v.default.createElement("a",{href:"javascript:;",onClick:()=>this.save(e,t.id),style:{marginRight:8}},"\u4fdd\u5b58")),v.default.createElement(h.default,{title:"\u786e\u5b9a\u53d6\u6d88?",onConfirm:()=>this.cancel(t.id)},v.default.createElement("a",null,"\u53d6\u6d88"))):v.default.createElement("a",{onClick:()=>this.edit(t.id)},"\u7f16\u8f91"))}};t.push(a),this.state={columns:t,operationCol:a,editingKey:"",sendMessageBtn:!1,importVisible:!1,detailVisible:!1,TableVisible:!1,detailSpVisible:!1,page:1,pageSize:10};var s=e.dispatch;e.salesTask;s({type:"salesTask/fetchTaskList",payload:{currentPage:this.state.page,pageSize:this.state.pageSize}})}edit(e){this.setState({editingKey:e})}save(e,t){e.validateFields((e,a)=>{if(!e){var s=this.props,i=s.dispatch,l=s.salesTask,d=[...l.list],r=d.findIndex(e=>t===e.id);if(r>-1){var n=d[r],o=(0,u.default)({},n,a);i({type:"salesTask/fetchUpdateTask",payload:o}),i({type:"salesTask/fetchTaskList",payload:{currentPage:this.state.page,pageSize:this.state.pageSize}}),this.setState({editingKey:""})}else d.push(a),this.setState({data:d,editingKey:""})}})}render(){var e=this.props.salesTask,t=this.state.columns,a={body:{row:S.EditableFormRow,cell:S.default}};t=t.map(e=>{return e.editable?(0,u.default)({},e,{onCell:t=>({record:t,inputType:"number",dataIndex:e.dataIndex,title:e.title,editing:this.isEditing(t),test:t.id})}):e});var s="";return s=this.state.detailSpVisible?v.default.createElement(E.default,{spCode:this.state.spCode,goBack:this.detailGoBack}):v.default.createElement(m.default,null,v.default.createElement(l.default,{bordered:!1},v.default.createElement(d.default,null,v.default.createElement(r.default,null,v.default.createElement(o.default,{type:"primary",style:{marginRight:"20px"},onClick:this.importTask},"\u5bfc\u5165\u4efb\u52a1\u914d\u7f6e"),v.default.createElement(n.default,{title:"\u5bfc\u5165\u6587\u4ef6",visible:this.state.importVisible,onOk:this.submitModal,onCancel:this.hideModal,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},v.default.createElement(k.default,{importBtn:this.state.importBtn,wrappedComponentRef:e=>this.formRef=e})),v.default.createElement(o.default,{type:"primary",onClick:this.sendMessage,disabled:this.state.sendMessageBtn},"\u53d1\u5e03\u4efb\u52a1")))),v.default.createElement(n.default,{title:"\u6211\u7684\u6708\u62a5\u8868",visible:this.state.TableVisible,onCancel:this.hideTableModal,footer:null},v.default.createElement(y.default,{type:this.state.type,name:this.state.name})),v.default.createElement(g.default,{components:a,columns:t,scroll:{x:2500,y:600},dataSource:e.list,total:e.total,onChange:this.onChange,onShowSizeChange:this.onShowSizeChange})),v.default.createElement("div",null,s)}})||c),T=x;t.default=T},WOKu:function(e,t,a){"use strict";var s=a("xK3H"),i=a("3rQ3");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("wyr4");var l,d,r=s(a("NEb+")),n=i(a("6cB7")),o=s(a("WmWl")),u=a("LneV"),h=(l=(0,u.connect)(e=>{var t=e.sendMessage;return{sendMessage:t}}),l(d=class extends n.Component{constructor(e){super(e),this.toDetail=((e,t)=>{this.setState({showDetail:!0,monthSalesTaskDetailList:e.monthSalesTaskDetailList,title:t})}),this.goBack=(()=>{this.setState({showDetail:!1})}),this.state={showDetail:!1,monthSalesTaskDetailList:[],title:""};var t=this.props.dispatch;t({type:"sendMessage/fetchQuerySendInfo",payload:{type:this.props.type,name:this.props.name}})}render(){var e=this.props.sendMessage,t=e.data,a=[{title:"\u4efb\u52a1\u8d23\u4efb\u4eba",width:100,dataIndex:"manager",render:(e,t)=>{return n.default.createElement("span",null,n.default.createElement("a",{href:"javascript:;",onClick:()=>this.toDetail(t,e)},e))}},{title:"\u603b\u4efb\u52a1\u6570",width:80,dataIndex:"totalTaskNum"},{title:"\u603b\u9500\u552e\u6570",width:80,dataIndex:"totalSaleNum"},{title:"\u4efb\u52a1\u5b8c\u6210\u7387",width:80,dataIndex:"totalRatio"}],s="";return s=this.state.showDetail?n.default.createElement(o.default,{goBack:this.goBack,dataSource:this.state.monthSalesTaskDetailList,title:this.state.title}):n.default.createElement(r.default,{style:{textAlign:"center"},columns:a,dataSource:t,bordered:!0,title:this.setTitle,pagination:!1}),n.default.createElement("div",null,s)}})||d),p=h;t.default=p},b80h:function(e,t,a){"use strict";var s=a("xK3H"),i=a("3rQ3");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("/26P");var l=s(a("aYvq"));a("mKhK");var d=s(a("iW5v")),r=s(a("dnxz"));a("Jm7A");var n=s(a("F1Zk"));a("Lzml");var o=s(a("vpm+"));a("1pPU");var u=s(a("KjZ1"));a("Ktq0");var h=s(a("fL5V"));a("Q3sr");var p,c,f=s(a("9NP+")),m=i(a("6cB7")),v=a("LneV"),g=(p=(0,v.connect)(e=>{var t=e.salesTask;return{salesTask:t}}),p(c=class extends m.Component{constructor(e){super(e),this.normFile=(e=>{return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList}),this.importFile=(e=>{var t=this.props.dispatch;t({type:"salesTask/fetchImportTask",payload:e})}),this.state={}}render(){var e=f.default.Item,t={labelCol:{span:5},wrapperCol:{span:14}},a=this.props.form,s=a.getFieldDecorator,i={name:"file",action:"http://localhost:8088/gldb-admin-bma/salesTask/importSalesTask",headers:{authorization:"authorization-text"},onChange(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?h.default.success(`${e.file.name} \u6587\u4ef6\u4e0a\u4f20\u6210\u529f`):"error"===e.file.status&&h.default.error(`${e.file.name} \u6587\u4ef6\u4e0a\u4f20\u5931\u8d25.`)}};return m.default.createElement(f.default,{className:"ant-advanced-search-form"},m.default.createElement(l.default,null,m.default.createElement(d.default,{span:24},m.default.createElement(e,(0,r.default)({label:"\u5bfc\u5165"},t),s("upload",{valuePropName:"fileList",getValueFromEvent:this.normFile},{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e0a\u4f20\u6587\u4ef6!"}]})(m.default.createElement(n.default,i,m.default.createElement(o.default,{style:{marginLeft:"20px"}},m.default.createElement(u.default,{type:"upload"})," \u9009\u62e9\u6587\u4ef6")))))))}})||c),b=f.default.create()(g);t.default=b}}]);
//# sourceMappingURL=4.async.js.map