{"version":3,"sources":["src/pages/salesHistory/models/detail.js"],"names":["_index","__webpack_require__","_history","namespace","state","list","total","filters","detail","lineData","barData1","barData2","xAxisData","effects","fetchDetail","_regenerator","default","mark","_callee","_ref","_ref2","payload","call","put","response","wrap","_context","prev","next","queryMonthlyDetailList","sent","type","stop","this","fetchChart","_callee2","_ref3","_ref4","_context2","queryChartListBySp","reducers","getDetail","action","code","_objectSpread2","data","pageTotal","notification","error","message","description","getFilters","selectChange","getChart","rateList","saleList","taskList","monthList"],"mappings":"qNAAAA,EAAAC,EAAA,QACAC,EAAAD,EAAA,WAGEE,UAAW,gBAEXC,OACEC,QACAC,MAAO,EACPC,WACAC,OAAO,KACPC,YACAC,YACAC,YACAC,cAEFC,SACIC,YADKC,EAAAC,QAAAC,KAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAT,EAAAC,QAAAS,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEY,OADJP,EADRF,EACQE,QAAWC,EADnBF,EACmBE,KAAMC,EADzBH,EACyBG,IADzBG,EAAAE,KAAA,EAEkBN,EAAKO,yBAAwBR,GAF/C,OAGL,OADMG,EAFDE,EAAAI,KAAAJ,EAAAE,KAAA,EAGCL,GACJQ,KAAM,YACNV,QAASG,IALN,wBAAAE,EAAAM,SAAAd,EAAAe,QAQLC,WARKnB,EAAAC,QAAAC,KAAA,SAAAkB,EAAAC,EAAAC,GAAA,IAAAhB,EAAAC,EAAAC,EAAAC,EAAA,OAAAT,EAAAC,QAAAS,KAAA,SAAAa,GAAA,eAAAA,EAAAX,KAAAW,EAAAV,MAAA,OASY,OADLP,EARPe,EAQOf,QAAWC,EARlBe,EAQkBf,KAAMC,EARxBc,EAQwBd,IARxBe,EAAAV,KAAA,EASkBN,EAAKiB,qBAAoBlB,GAT3C,OAUL,OADMG,EATDc,EAAAR,KAAAQ,EAAAV,KAAA,EAUCL,GACJQ,KAAM,WACNV,QAASG,IAZN,wBAAAc,EAAAN,SAAAG,EAAAF,SAgBTO,UACEC,UAAUrC,EAAOsC,GACf,GAAIA,EAAOrB,QAAQsB,KAAM,CACvB,GAA4B,MAAxBD,EAAOrB,QAAQsB,KACjB,SAAAC,EAAA5B,YACKZ,GACHI,OAAQkC,EAAOrB,QAAQwB,KAAK,GAC5BxC,KAAKqC,EAAOrB,QAAQwB,KACpBvC,MAAOoC,EAAOrB,QAAQyB,YAG1BC,eAAaC,OACXC,QAASP,EAAOrB,QAAQsB,KACxBO,YAAaR,EAAOrB,QAAQ4B,UAGhC,OAAO7C,GAET+C,WAAW/C,EAAMsC,GACf,SAAAE,EAAA5B,YACKZ,GACHG,QAASmC,EAAOrB,WAGpB+B,aAAahD,EAAOsC,GAClB,SAAAE,EAAA5B,YACKZ,GACHK,UAAW,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,IAC7CC,UAAW,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAC/CC,UAAW,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,SAG3D0C,SAASjD,EAAMsC,GACb,SAAAE,EAAA5B,YACKZ,GACHK,SAAUiC,EAAOrB,QAAQwB,KAAKS,SAC9B5C,SAAUgC,EAAOrB,QAAQwB,KAAKU,SAC9B5C,SAAU+B,EAAOrB,QAAQwB,KAAKW,SAC9B5C,UAAU8B,EAAOrB,QAAQwB,KAAKY","file":"5.async.js","sourcesContent":["import {notification} from \"antd/lib/index\";\nimport {queryMonthlyDetailList, queryChartListBySp} from '@/services/history';\n\nexport default {\n  namespace: 'historyDetail',\n\n  state: {\n    list: [],\n    total: 0,\n    filters:{},\n    detail:null,\n    lineData: [],\n    barData1: [],\n    barData2: [],\n    xAxisData: []\n  },\n  effects: {\n    * fetchDetail({payload}, {call, put}) {\n      const response = yield call(queryMonthlyDetailList, payload);\n      yield put({\n        type: 'getDetail',\n        payload: response,\n      });\n    },\n    * fetchChart({payload}, {call, put}) {\n      const response = yield call(queryChartListBySp, payload);\n      yield put({\n        type: 'getChart',\n        payload: response,\n      });\n    },\n  },\n  reducers: {\n    getDetail(state, action) {\n      if (action.payload.code) {\n        if (action.payload.code === 1000) {\n          return {\n            ...state,\n            detail: action.payload.data[9],\n            list:action.payload.data,\n            total: action.payload.pageTotal,\n          };\n        }\n        notification.error({\n          message: action.payload.code,\n          description: action.payload.message,\n        });\n      }\n      return state;\n    },\n    getFilters(state,action){\n      return {\n        ...state,\n        filters: action.payload\n      }\n    },\n    selectChange(state, action) {\n      return {\n        ...state,\n        lineData: [1, 13, 33, 35, 15, 55, 25, 21, 6, 45],\n        barData1: [22, 22, 23, 88, 24, 55, 55, 89, 98, 164],\n        barData2: [201, 222, 223, 777, 99, 255, 555, 879, 938, 1364],\n      }\n    },\n    getChart(state,action){\n      return{\n        ...state,\n        lineData: action.payload.data.rateList,\n        barData1: action.payload.data.saleList,\n        barData2: action.payload.data.taskList,\n        xAxisData:action.payload.data.monthList,\n      }\n    },\n  },\n};\n"],"sourceRoot":""}