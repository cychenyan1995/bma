{"version":3,"sources":["src/pages/salesHistory/models/table.js"],"names":["_history","__webpack_require__","namespace","state","list","total","filters","search","showSearch","exportMonth","effects","fetchList","_regenerator","default","mark","_callee","_ref","_ref2","payload","call","put","response","wrap","_context","prev","next","queryList","sent","type","stop","this","fetchListByMonth","_callee2","_ref3","_ref4","_context2","queryMonthSalesHistory","reducers","getList","action","_objectSpread2","data","pageTotal","current","getFilters","setExportMonth","month","getListByMonth"],"mappings":"uNAAAA,EAAAC,EAAA,WAGEC,UAAY,eACZC,OACEC,QACAC,MAAO,EACPC,WACAC,UACAC,YAAW,EACXC,YAAY,IAGdC,SACIC,UADMC,EAAAC,QAAAC,KAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAT,EAAAC,QAAAS,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEW,OADLP,EADNF,EACME,QAAYC,EADlBF,EACkBE,KAAMC,EADxBH,EACwBG,IADxBG,EAAAE,KAAA,EAEiBN,EAAKO,YAAUR,GAFhC,OAGN,OADMG,EAFAE,EAAAI,KAAAJ,EAAAE,KAAA,EAGAL,GACJQ,KAAO,UACPV,QAAUG,IALN,wBAAAE,EAAAM,SAAAd,EAAAe,QAQNC,iBARMnB,EAAAC,QAAAC,KAAA,SAAAkB,EAAAC,EAAAC,GAAA,IAAAhB,EAAAC,EAAAC,EAAAC,EAAA,OAAAT,EAAAC,QAAAS,KAAA,SAAAa,GAAA,eAAAA,EAAAX,KAAAW,EAAAV,MAAA,OASW,OADEP,EARbe,EAQaf,QAAYC,EARzBe,EAQyBf,KAAMC,EAR/Bc,EAQ+Bd,IAR/Be,EAAAV,KAAA,EASiBN,EAAKiB,yBAAuBlB,GAT7C,OAUN,OADMG,EATAc,EAAAR,KAAAQ,EAAAV,KAAA,EAUAL,GACJQ,KAAO,iBACPV,QAAUG,IAZN,wBAAAc,EAAAN,SAAAG,EAAAF,SAiBVO,UACEC,QAAQnC,EAAMoC,GACZ,SAAAC,EAAA3B,YACKV,GACHC,KAAMmC,EAAOrB,QAAQuB,KACrBpC,MAAOkC,EAAOrB,QAAQwB,UACtBC,QAAQJ,EAAOrB,QAAQyB,WAG3BC,WAAWzC,EAAMoC,GACf,SAAAC,EAAA3B,YACKV,GACHG,QAASiC,EAAOrB,WAGpBX,OAAOJ,EAAOoC,GACZ,SAAAC,EAAA3B,YACKV,GACHI,OAAQgC,EAAOrB,WAGnBV,WAAWL,EAAOoC,GAChB,SAAAC,EAAA3B,YACKV,GACHK,WAAY+B,EAAOrB,WAGvB2B,eAAe1C,EAAOoC,GACpB,SAAAC,EAAA3B,YACKV,GACHM,YAAaN,EAAMG,QAAQwC,MAC3B1C,KAAMmC,EAAOrB,QAAQuB,KACrBpC,MAAOkC,EAAOrB,QAAQwB,UACtBC,QAAQJ,EAAOrB,QAAQyB,WAG3BI,eAAe5C,EAAOoC,GACpB,SAAAC,EAAA3B,YACKV,GACHC,KAAMmC,EAAOrB,QAAQuB,KACrBpC,MAAOkC,EAAOrB,QAAQwB","file":"8.async.js","sourcesContent":["import {queryList, queryMonthSalesHistory} from '@/services/history';\n\nexport default {\n  namespace : 'historyTable',\n  state : {\n    list: [],\n    total: 0,\n    filters:{},\n    search:{},\n    showSearch:false,\n    exportMonth:''\n  },\n\n  effects : {\n    * fetchList({ payload }, {call, put}){\n      const response = yield call(queryList,payload);\n      yield put({\n        type : 'getList',\n        payload : response\n      })\n    },\n    * fetchListByMonth({ payload }, {call, put}){\n      const response = yield call(queryMonthSalesHistory,payload);\n      yield put({\n        type : 'getListByMonth',\n        payload : response\n      })\n    }\n  },\n\n  reducers : {\n    getList(state,action){\n      return{\n        ...state,\n        list: action.payload.data,\n        total: action.payload.pageTotal,\n        current:action.payload.current,\n      }\n    },\n    getFilters(state,action){\n      return {\n        ...state,\n        filters: action.payload\n      }\n    },\n    search(state, action) {\n      return {\n        ...state,\n        search: action.payload\n      };\n    },\n    showSearch(state, action) {\n      return {\n        ...state,\n        showSearch: action.payload\n      };\n    },\n    setExportMonth(state, action) {\n      return {\n        ...state,\n        exportMonth: state.filters.month,\n        list: action.payload.data,\n        total: action.payload.pageTotal,\n        current:action.payload.current\n      };\n    },\n    getListByMonth(state, action) {\n      return {\n        ...state,\n        list: action.payload.data,\n        total: action.payload.pageTotal\n      };\n    }\n  }\n}\n"],"sourceRoot":""}