{"version":3,"sources":["src/pages/salesHistory/models/table.js"],"names":["_history","__webpack_require__","namespace","state","list","total","filters","search","showSearch","exportMonth","lineData","barData1","barData2","xAxisData","currentPage","effects","fetchList","_regenerator","default","mark","_callee","_ref","_ref2","payload","call","put","response","wrap","_context","prev","next","queryList","sent","type","stop","this","fetchListByMonth","_callee2","_ref3","_ref4","_context2","queryMonthSalesHistory","fetchChange","_callee3","_ref5","_ref6","_context3","queryChartListByType","reducers","getList","action","_objectSpread2","data","pageTotal","pageNum","getFilters","setExportMonth","month","current","getListByMonth","MonthlyExport","clearUrl","getChange","rateList","saleList","taskList","monthList"],"mappings":"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","file":"8.async.js","sourcesContent":["import { queryList, queryMonthSalesHistory, queryChartListByType } from '@/services/history';\n\nexport default {\n  namespace: 'historyTable',\n  state: {\n    list: [],\n    total: 0,\n    filters: {},\n    search: {},\n    showSearch: false,\n    exportMonth: '',\n    lineData: [],\n    barData1: [],\n    barData2: [],\n    xAxisData: [],\n    currentPage: 1\n  },\n\n  effects: {\n    * fetchList({ payload }, { call, put }) {\n      const response = yield call(queryList, payload);\n      yield put({\n        type: 'getList',\n        payload: response\n      })\n    },\n    * fetchListByMonth({ payload }, { call, put }) {\n      const response = yield call(queryMonthSalesHistory, payload);\n      yield put({\n        type: 'getListByMonth',\n        payload: response\n      })\n    },\n    * fetchChange({ payload }, { call, put }) {\n      const response = yield call(queryChartListByType, payload);\n      yield put({\n        type: 'getChange',\n        payload: response,\n      });\n    },\n  },\n\n  reducers: {\n    getList(state, action) {\n      return {\n        ...state,\n        list: action.payload.data,\n        total: action.payload.pageTotal,\n        // current: action.payload.current,\n        currentPage: action.payload.pageNum\n      }\n    },\n    getFilters(state, action) {\n      return {\n        ...state,\n        filters: action.payload\n      }\n    },\n    search(state, action) {\n      return {\n        ...state,\n        search: action.payload\n      };\n    },\n    showSearch(state, action) {\n      return {\n        ...state,\n        showSearch: action.payload\n      };\n    },\n    setExportMonth(state, action) {\n      return {\n        ...state,\n        exportMonth: state.filters.month,\n        list: action.payload.data,\n        total: action.payload.pageTotal,\n        current: action.payload.current\n      };\n    },\n    getListByMonth(state, action) {\n      return {\n        ...state,\n        MonthlyExport: action.payload.data\n      };\n    },\n    clearUrl(state, action) {\n      return {\n        ...state,\n        MonthlyExport: action.payload\n      }\n    },\n    getChange(state,action){\n      return{\n        ...state,\n        lineData: action.payload.data.rateList,\n        barData1: action.payload.data.saleList,\n        barData2: action.payload.data.taskList,\n        xAxisData:action.payload.data.monthList,\n      }\n    }\n  }\n}\n"],"sourceRoot":""}